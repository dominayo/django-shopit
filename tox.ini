[tox]
envlist = flake8, py{27,34,35}-django{19,110}, docs
skipsdist = true

[travis]
python =
    2.7: py27, flake8, docs
    3.4: py34
    3.5: py35

[travis:env]
DJANGO =
    "1.9": django19, flake8, docs
    "1.10": django110

[testenv]
deps =
    django19: Django>=1.9,<1.10
    django110: Django>=1.10,<1.11
    -r{toxinidir}/requirements/test.txt
commands = coverage run -a -m pytest

[testenv:flake8]
deps = flake8
commands = flake8

[testenv:docs]
deps = sphinx-rtd-theme
commands = sphinx-build -W -b html -d {envtmpdir}/doctrees {toxinidir}/docs {envtmpdir}/html
